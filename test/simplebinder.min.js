var SimpleBinder=function(a,b,c){var watch=typeof b==="object"?b.watch:"value";var change=typeof b==="object"?b.change:"textContent";var callback=typeof b==="function"?b:c;var targets,inputs,il,tl,evt;var loadedModels=[];var loadedControllers=[];var binder=function(){newController(a);newModel(a);makeInputs()};function rakeControllers(arr){inputs=document.querySelectorAll(loadedControllers.join(","));il=inputs.length}function newController(contr){loadedControllers.push('[data-controller="'+contr+'"]');rakeControllers()}function rakeModels(arr){targets=document.querySelectorAll(loadedModels.join(","));tl=targets.length}function newModel(modl){loadedModels.push('[data-model="'+modl+'"]');rakeModels()}function makeInputs(){for(var i=0;i<il;i++){evt=inputs[i].type==="radio"||inputs[i].type.indexOf("select")!==-1?"change":"input";inputs[i].addEventListener(evt,handleChange)}}function handleChange(){if(this.type!=="checkbox"){for(var i=0;i<tl;i++){targets[i][change]=this[watch]}callback(this,targets[i])}}binder.prototype.controllers=loadedControllers;binder.prototype.models=loadedModels;binder.prototype.destroy=function(){for(var i=0;i<il;i++){inputs[i].removeEventListener(evt,handleChange)}};binder.prototype.addModel=function(nmodel){newModel(nmodel);makeInputs()};binder.prototype.addController=function(ncontroller){newController(ncontroller);makeInputs()};return new binder};